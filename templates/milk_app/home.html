{% extends 'milk_app/base.html' %}
{% load static %}

<!DOCTYPE html>

{% block title_block %}
Homepage
{% endblock %}

{% block body_block %}
<section id="body-and-carousel">
    <!-- Start of the image slider -->
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="7000">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1" class=""></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2" class=""></li>
        </ol>
        
        <div class="carousel-inner" role="listbox">
            <div class="carousel-item active"> <!-- Slide number 1 -->
                <img class="d-block img-fluid" src="{% static 'images/house2.jpg' %}" alt="First slide">
                <div class="carousel-caption d-none d-md-block">
                    <h1>welcome to milkstudents</h1>
                    <h3>student accomodation expert</h3>
                    <a class="btn btn-outline-light btn-lg" href="#created-by" role="button">get started</a>
                </div>
            </div>

            
            <div class="carousel-item"> <!-- Slide number 2 -->
                <img class="d-block img-fluid" src="{% static 'images/house1.jpg' %}" alt="Second slide">
                <div class="carousel-caption text-center">
                    <h1>Made possible by a small group of people</h1>
                    <h3>Feel free to check more about us</h3>
                    <a class="btn btn-outline-light btn-lg" href="{% url 'milk_app:about' %}" role="button">about us</a>
                </div>
            </div>

            <!-- Slide number 3 --- IF USER IS LOGGED IN he gets redirected if he wishes to, the function scrolls to functions that are available to him -->
            {% if user.is_authenticated %}  <!-- Slide number 3 --- if user is authenticated -->
            <div class="carousel-item">
                <img class="d-block img-fluid" src="{% static 'images/house4.jpg' %}"
                    alt="Third slide if not authenticated">
                
                <div class="carousel-caption text-center">
                    <h1>Discover more</h1>
                    <h3>there's plenty you can do</h3>
                    <a class="btn btn-outline-light btn-lg" href="#action" role="button">scroll down</a>
                </div>
            </div>
            {% else %}
            <!-- Slide number 3 --- IF THE USER IS NOT LOGGED IN  -->
            <div class="carousel-item">
                <img class="d-block img-fluid" src="{% static 'images/house5.jpg' %}"
                    alt="Third slide if not authenticated">
                <div class="carousel-caption text-center">
                    <h1>Join our growing community of members!</h1>
                    <h3>Register if you don't have an account yet</h3>
                    <a class="btn btn-outline-light btn-lg" href="{% url 'milk_app:register' %}"
                        role="button">register</a>
                    <h3>Log in if you're already a member</h3>
                    <a class="btn btn-outline-light btn-lg" href="{% url 'milk_app:login' %}" role="button">log in</a>
                </div>
            </div>
            {% endif %}
        </div>

        <!-- End of the inner carousel -->
        <!-- Buttons for navigating to previous and next carousel image -->
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <!-- End of the inner carousel -->


    <!-- Buttons for navigating to previous and next carousel image -->
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <!-- previous slide -->
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    </a>

    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <!-- next slide -->
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
    </a>
    <!-- End of the image slider -->
    <!-- End of the home section -->
</section>


<!-- Start of the team section -->
<section id="created-by" class="">
    <div class="services-section container py-7" style="opacity: 1;">
        <div class="parallax-pad-5">
            <div class="row mb-5">
                <div class="col-md-10 w-50 mx-auto">
                    <div data-parallax-offset="2" class="parallax-anim" style="transform: translateY(-28px);">
                        <p class="service-title1 text-bold text-uppercase">
                            What we do
                        </p>
                    </div>
                    <div data-parallax-offset="1.5" class="parallax-anim" style="transform: translateY(-36px);">
                        <h2 class="service-text1" style="opacity: 1; transform: translateY(0px);">
                            We provide the best possible services for <b>our clients - you</b>.
                            Whether you are a <b>host</b> or a <b>tenant</b>, we've got you covered.
                            Our primary goal is to leave <b>all</b> of you <b>satisfied</b>
                        </h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Start of the team section -->
<section id="PhotoStrip" class="u-oh u-bg-white">

</section>

<!-- End of the team section -->

<div id="#cards-with-actions">
    <!-- Home page for Hosts -->
    {% if user.userprofile.account == "Host" %}
    <div class="container-fluid container py-3 mt-4">
        <h2 class="top-space-heading">Which of these actions do you want to take? </h2>
        <div class="row mt-4">
            <div class="col-md-4">
                <!-- Scroll other properties -->
                <a href="{% url 'milk_app:browse_listings' %}">
                    <!-- this makes the whole card clickable -->
                    <div class="card mb-3 h-100">
                        <img src="{% static 'images/card1.jpg' %}" class="card-img-top"
                            alt="Card for browsing properties">
                        <div class="card-body">
                            <h5 class="card-title">Browse all properties</h5>
                            <p class="card-text">You will be referenced to a page where you see all currently enlisted
                                properties on the market.</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-4">
                <!-- Transfers HOST user to a page where he can add a new listing -->
                <a href="{% url 'milk_app:add_listing' %}">
                    <div class="card mb-3 h-100">
                        <img src="{% static 'images/card2.jpg' %}" class="card-img-top"
                            alt="Card for creating a listing">
                        <div class="card-body">
                            <h5 class="card-title">Create a listing</h5>
                            <p class="card-text">After pressing this button you get referenced to a page where you can
                                create a new listing.</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-4">
                <!-- Refers the HOST user to the page where he sees all his currently enlisted and also rented out properties -->
                <a href="{% url 'milk_app:my_listings' %}">
                    <div class="card mb-3 h-100">
                        <img src="{% static 'images/card3.jpg' %}" class="card-img-top"
                            alt="Card for showing current listings">
                        <div class="card-body">
                            <h5 class="card-title">Show my listings</h5>
                            <p class="card-text">This sends you to a site where all you properties will be enlisted.</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    {% elif user.userprofile.account == "Tenant" %}
    <div class="container-fluid container py-3 mt-4">
        <h2 class="top-space-heading">Which of these actions do you want to take?</h2>
        <div class="row mt-4">

            <div class="col-md-6">
                <!-- Scroll other properties -->
                <a href="{% url 'milk_app:browse_listings' %}">
                    <!-- this makes the whole card clickable -->
                    <div class="card mb-3 h-100">
                        <img src="{% static 'images/card1.jpg' %}" class="card-img-top"
                            alt="Card for browsing properties">
                        <div class="card-body">
                            <h5 class="card-title">Browse all properties</h5>
                            <p class="card-text">You will be referenced to a page where you see all currently enlisted
                                properties on the market.</p>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-md-6">
                <!-- Refers the HOST user to the page where he sees all his currently enlisted and also rented out properties -->
                <a href="{% url 'milk_app:my_listings' %}">
                    <div class="card mb-3 h-100">
                        <img src="{% static 'images/card3.jpg' %}" class="card-img-top"
                            alt="Card for showing current listings">
                        <div class="card-body">
                            <h5 class="card-title">Show my rented properties</h5>
                            <p class="card-text">This sends you to a site where all you properties will be enlisted.</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Home page for not logged users -->
    {% else %}
    <div class="container-fluid container py-3 mt-4">
        <div class="row mt-4">

            <div class="col-md-12">
                <!-- Scroll other properties -->
                <a href="{% url 'milk_app:browse_listings' %}">
                    <!-- this makes the whole card clickable -->
                    <div class="card mb-3 h-100">
                        <img src="{% static 'images/card1.jpg' %}" class="card-img-top"
                            alt="Card for browsing properties">
                        <div class="card-body">
                            <h5 class="card-title">Browse all properties</h5>
                            <p class="card-text">You will be referenced to a page where you see all currently enlisted
                                properties on the market.</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    {% endif %}
    {% endblock %}